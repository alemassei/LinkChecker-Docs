<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Link Checker Technical Documentation</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-radius: 15px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        .header {
            text-align: center;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 40px 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3);
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.3em;
            opacity: 0.9;
            font-weight: 300;
        }
        
        .toc {
            background: #f8f9fa;
            border-left: 5px solid #4facfe;
            padding: 20px;
            margin: 30px 0;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .toc h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .toc ul {
            list-style: none;
            columns: 2;
            column-gap: 30px;
        }
        
        .toc li {
            margin: 8px 0;
            break-inside: avoid;
        }
        
        .toc a {
            text-decoration: none;
            color: #4facfe;
            padding: 5px 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        .toc a:hover {
            background: #4facfe;
            color: white;
            transform: translateX(5px);
        }
        
        .section {
            margin: 40px 0;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-3px);
        }
        
        .section.overview { background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%); }
        .section.tech-stack { background: linear-gradient(135deg, #f093fb20 0%, #f5576c20 100%); }
        .section.database { background: linear-gradient(135deg, #4facfe20 0%, #00f2fe20 100%); }
        .section.api { background: linear-gradient(135deg, #43e97b20 0%, #38f9d720 100%); }
        .section.engine { background: linear-gradient(135deg, #fa709a20 0%, #fee14020 100%); }
        .section.deployment { background: linear-gradient(135deg, #a8edea20 0%, #fed6e320 100%); }
        .section.performance { background: linear-gradient(135deg, #ff9a9e20 0%, #fecfef20 100%); }
        .section.monitoring { background: linear-gradient(135deg, #ffecd220 0%, #fcb69f20 100%); }
        .section.integration { background: linear-gradient(135deg, #a18cd120 0%, #fbc2eb20 100%); }
        .section.security { background: linear-gradient(135deg, #fdbb2d20 0%, #22c1c320 100%); }
        .section.troubleshooting { background: linear-gradient(135deg, #e96443 20 0%, #904e9520 100%); }
        
        h2 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            padding-bottom: 10px;
            border-bottom: 3px solid #4facfe;
        }
        
        h3 {
            color: #34495e;
            font-size: 1.6em;
            margin: 25px 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        h4 {
            color: #555;
            font-size: 1.3em;
            margin: 20px 0 10px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            font-size: 1.2em;
        }
        
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tech-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #4facfe;
            transition: all 0.3s ease;
        }
        
        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .tech-card h4 {
            color: #4facfe;
            margin-bottom: 10px;
        }
        
        .tech-list {
            list-style: none;
        }
        
        .tech-list li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .tech-list li:before {
            content: "▶";
            color: #4facfe;
            position: absolute;
            left: 0;
        }
        
        .endpoint-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            transition: all 0.3s ease;
        }
        
        .endpoint-card:hover {
            border-color: #4facfe;
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.15);
        }
        
        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .method {
            padding: 5px 12px;
            border-radius: 20px;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .method.get { background: #28a745; }
        .method.post { background: #007bff; }
        .method.put { background: #ffc107; color: #333; }
        .method.delete { background: #dc3545; }
        
        .endpoint-path {
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            background: #f8f9fa;
            padding: 5px 10px;
            border-radius: 5px;
            flex-grow: 1;
        }
        
        .code-block {
            background: #2d3748;
            color: #cbd5e0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            border-left: 5px solid #4facfe;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-left: 5px solid #ffc107;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .warning {
            background: #f8d7da;
            padding: 15px;
            border-left: 5px solid #dc3545;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .success {
            background: #d4edda;
            padding: 15px;
            border-left: 5px solid #28a745;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .info {
            background: #cce7ff;
            padding: 15px;
            border-left: 5px solid #007bff;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: scale(1.05);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #4facfe;
            display: block;
        }
        
        .stat-label {
            color: #666;
            margin-top: 10px;
        }
        
        .deployment-steps {
            counter-reset: step-counter;
        }
        
        .deployment-step {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            position: relative;
            counter-increment: step-counter;
            transition: all 0.3s ease;
        }
        
        .deployment-step:hover {
            border-color: #4facfe;
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.15);
        }
        
        .deployment-step:before {
            content: counter(step-counter);
            position: absolute;
            top: -15px;
            left: 25px;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .footer {
            text-align: center;
            padding: 30px;
            background: #2c3e50;
            color: white;
            border-radius: 15px;
            margin-top: 40px;
        }
        
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header h1 { font-size: 2em; }
            .toc ul { columns: 1; }
            .tech-grid { grid-template-columns: 1fr; }
        }
        
        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        th {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            color: white;
        }
        
        .badge.primary { background: #007bff; }
        .badge.success { background: #28a745; }
        .badge.warning { background: #ffc107; color: #333; }
        .badge.danger { background: #dc3545; }
        .badge.info { background: #17a2b8; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-link"></i> Link Checker</h1>
            <div class="subtitle">Comprehensive Technical Documentation</div>
        </div>

        <div class="toc">
            <h2><i class="fas fa-list"></i> Table of Contents</h2>
            <ul>
                <li><a href="#overview">📋 Overview</a></li>
                <li><a href="#tech-stack">🛠️ Technology Stack</a></li>
                <li><a href="#database">🗄️ Database Schema</a></li>
                <li><a href="#api">🔌 API Endpoints</a></li>
                <li><a href="#engine">⚙️ Link Checking Engine</a></li>
                <li><a href="#deployment">🚀 Deployment Architecture</a></li>
                <li><a href="#performance">📈 Performance Metrics</a></li>
                <li><a href="#monitoring">📊 Monitoring & Maintenance</a></li>
                <li><a href="#integration">🔗 Integration Guidelines</a></li>
                <li><a href="#security">🔒 Security Considerations</a></li>
                <li><a href="#troubleshooting">🔧 Troubleshooting Guide</a></li>
            </ul>
        </div>

        <div id="overview" class="section overview">
            <h2><i class="fas fa-info-circle icon"></i> Overview</h2>
            <p>The Link Checker is a comprehensive web application designed to verify and monitor the status of business links across various chamber of commerce and business directory websites. It automates the process of checking if business listings contain the correct target URLs and anchor text for any business, providing detailed reporting and analytics. The system can handle hundreds or thousands of different businesses simultaneously.</p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">40+</span>
                    <div class="stat-label">API Endpoints</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">6</span>
                    <div class="stat-label">Detection Strategies</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">100+</span>
                    <div class="stat-label">Concurrent Checks</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">1000+</span>
                    <div class="stat-label">URLs per Hour</div>
                </div>
            </div>
        </div>

        <div id="tech-stack" class="section tech-stack">
            <h2><i class="fas fa-code icon"></i> Technology Stack</h2>
            
            <div class="tech-grid">
                <div class="tech-card">
                    <h4><i class="fab fa-react"></i> Frontend</h4>
                    <ul class="tech-list">
                        <li><strong>Next.js 15.4.4</strong> (React 18)</li>
                        <li><strong>Radix UI</strong> components</li>
                        <li><strong>TanStack React Query</strong> v5.60.5</li>
                        <li><strong>Tailwind CSS</strong> with Framer Motion</li>
                        <li><strong>Chart.js & Recharts</strong> for analytics</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4><i class="fas fa-server"></i> Backend</h4>
                    <ul class="tech-list">
                        <li><strong>Next.js API Routes</strong> (Node.js)</li>
                        <li><strong>Supabase</strong> (PostgreSQL)</li>
                        <li><strong>Playwright 1.53.1</strong> for automation</li>
                        <li><strong>JSDOM</strong> for HTML parsing</li>
                        <li><strong>csv-parser</strong> for file processing</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4><i class="fas fa-database"></i> Data & Utils</h4>
                    <ul class="tech-list">
                        <li><strong>TypeScript 5.0</strong> for type safety</li>
                        <li><strong>Zod</strong> for validation</li>
                        <li><strong>UUID & nanoid</strong> for IDs</li>
                        <li><strong>p-limit</strong> for concurrency</li>
                        <li><strong>date-fns</strong> for date handling</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4><i class="fab fa-docker"></i> DevOps</h4>
                    <ul class="tech-list">
                        <li><strong>Docker</strong> containerization</li>
                        <li><strong>Nginx</strong> reverse proxy</li>
                        <li><strong>Let's Encrypt</strong> SSL certificates</li>
                        <li><strong>DigitalOcean</strong> deployment</li>
                        <li><strong>Git</strong> version control</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="database" class="section database">
            <h2><i class="fas fa-database icon"></i> Database Schema</h2>
            
            <h3><i class="fas fa-table"></i> Primary Tables</h3>
            
            <h4><i class="fas fa-link"></i> url_checks</h4>
            <p>Main table storing business link verification data:</p>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Column</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>id</td><td><span class="badge primary">UUID</span></td><td>Primary Key</td></tr>
                        <tr><td>row_id</td><td><span class="badge info">Integer</span></td><td>Reference to CSV import row</td></tr>
                        <tr><td>business_name</td><td><span class="badge info">Text</span></td><td>Business name</td></tr>
                        <tr><td>thank_you_url</td><td><span class="badge info">Text</span></td><td>Business listing URL</td></tr>
                        <tr><td>anchor_text</td><td><span class="badge info">Text</span></td><td>Expected link text</td></tr>
                        <tr><td>target_url</td><td><span class="badge info">Text</span></td><td>Expected destination URL</td></tr>
                        <tr><td>target_url_found</td><td><span class="badge info">Text</span></td><td>Actual URL found</td></tr>
                        <tr><td>status</td><td><span class="badge warning">Enum</span></td><td>active, failed, processing, pending, target_url_wrong, anchor_text_wrong</td></tr>
                        <tr><td>previous_status</td><td><span class="badge warning">Enum</span></td><td>Previous status before last check</td></tr>
                        <tr><td>last_checked</td><td><span class="badge info">Timestamp</span></td><td>Last verification time</td></tr>
                        <tr><td>fulfilled_on</td><td><span class="badge info">Timestamp</span></td><td>when the advertisement/service was published/activated</td></tr>
                        <tr><td>response_time</td><td><span class="badge success">Integer</span></td><td>Check duration in milliseconds</td></tr>
                        <tr><td>error_message</td><td><span class="badge warning">Text</span></td><td>Error details if check failed</td></tr>
                        <tr><td>http_status_code</td><td><span class="badge info">Integer</span></td><td>HTTP response status code</td></tr>
                        <tr><td>detected_anchor_text</td><td><span class="badge info">Text</span></td><td>Actual anchor text found on the page</td></tr>
                        <tr><td>anchor_text_source</td><td><span class="badge warning">Enum</span></td><td>csv, auto, or all</td></tr>
                        <tr><td>notes</td><td><span class="badge info">Text</span></td><td>Additional notes or comments</td></tr>
                        <tr><td>created_at</td><td><span class="badge info">Timestamp</span></td><td>Record creation timestamp</td></tr>
                        <tr><td>updated_at</td><td><span class="badge info">Timestamp</span></td><td>Last update timestamp</td></tr>
                    </tbody>
                </table>
            </div>
            
            <h4><i class="fas fa-clipboard-list"></i> processing_logs</h4>
            <p>System activity and error logging:</p>
            <div class="info">
                <i class="fas fa-info-circle"></i> Stores detailed logs for debugging and monitoring system activities with levels: info, success, warning, error.
            </div>
            
            <h4><i class="fas fa-tasks"></i> bulk_processes</h4>
            <p>Bulk operation tracking:</p>
            <div class="highlight">
                <i class="fas fa-lightbulb"></i> Tracks progress of bulk operations with real-time status updates and filtering capabilities.
            </div>
        </div>

        <div id="api" class="section api">
            <h2><i class="fas fa-plug icon"></i> API Endpoints - Complete Integration Guide</h2>
            
            <div class="info">
                <i class="fas fa-info-circle"></i> <strong>Base URL:</strong> https://your-linkchecker-domain.com
            </div>
            
            <h3><i class="fas fa-search"></i> Core Link Checking</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/url-checks/check</span>
                </div>
                <p><strong>Purpose:</strong> Unified endpoint for single and bulk URL checking with real-time progress tracking</p>
                
                <h4><i class="fas fa-code"></i> Request Body:</h4>
                <div class="code-block">
{
  "urlIds": ["uuid1", "uuid2", "uuid3"],
  "type": "single" | "bulk",
  "filters": {
    "status": "failed" | "active" | "pending" | "processing" | "target_url_wrong" | "anchor_text_wrong",
    "anchorTextType": "csv" | "auto" | "all",
    "search": "business name search term",
    "previousStatus": "failed" | "active" | "pending",
    "fulfilledOnFrom": "2025-01-01T00:00:00Z",
    "fulfilledOnTo": "2025-12-31T23:59:59Z"
  },
  "quantity": 100
}
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response (Single Check):</h4>
                <div class="code-block">
{
  "success": true,
  "type": "single",
  "result": {
    "id": "cc617a63-3876-4d38-a73c-5aa54be70df1",
    "success": true,
    "result": {
      "isActive": true,
      "statusCode": 200,
      "responseTime": 1250,
      "actualTargetUrl": "https://www.example.com/",
      "detectedAnchorText": "Visit Website",
      "foundTargetLink": true,
      "errorMessage": null
    }
  },
  "message": "Single check completed"
}
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response (Bulk Check):</h4>
                <div class="code-block">
{
  "success": true,
  "type": "bulk",
  "progress_id": "bulk_1642095234567_abc123",
  "processing_urls": ["uuid1", "uuid2", "uuid3"],
  "message": "Bulk check started successfully"
}
                </div>

                <h4><i class="fas fa-cogs"></i> Concurrency & Performance:</h4>
                <ul>
                    <li><strong>Single checks:</strong> 1 concurrent worker, immediate response</li>
                    <li><strong>Bulk checks:</strong> 10 concurrent workers (dynamic semaphore pool)</li>
                    <li><strong>Progress tracking:</strong> Real-time updates via progress_id</li>
                    <li><strong>Filter validation:</strong> URLs validated against filters before processing</li>
                    <li><strong>Timeout:</strong> 45-90 seconds per URL (depending on page complexity)</li>
                    <li><strong>Rate limiting:</strong> Built-in to prevent system overload</li>
                </ul>
            </div>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/url-checks</span>
                </div>
                <p><strong>Purpose:</strong> Retrieve URL checks with advanced filtering, sorting, and pagination</p>
                
                <h4><i class="fas fa-filter"></i> Query Parameters:</h4>
                <div class="code-block">
GET /api/url-checks?search=business&status=active&limit=50&offset=0
&anchorTextType=csv&previousStatus=failed
&fulfilledOnFrom=2025-01-01T00:00:00Z
&fulfilledOnTo=2025-12-31T23:59:59Z
&progress_id=bulk_1642095234567_abc123
                </div>

                <h4><i class="fas fa-table"></i> Available Filters:</h4>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <thead>
                        <tr style="background: rgba(255,255,255,0.1);">
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid rgba(255,255,255,0.2);">Parameter</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid rgba(255,255,255,0.2);">Type</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid rgba(255,255,255,0.2);">Description</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid rgba(255,255,255,0.2);">Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">search</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">string</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Search in business_name, thank_you_url, target_url</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">?search=business</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">status</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">enum</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">active, failed, processing, pending, target_url_wrong, anchor_text_wrong</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">?status=active</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">previousStatus</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">enum</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Filter by status before last recheck</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">?previousStatus=failed</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">anchorTextType</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">enum</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">csv (from import), auto (detected), all</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">?anchorTextType=csv</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">fulfilledOnFrom</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">ISO date</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Filter by fulfilled_on date (start)</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">?fulfilledOnFrom=2025-01-01T00:00:00Z</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">progress_id</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">string</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Filter URLs from specific bulk process</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">?progress_id=bulk_123</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">limit</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">number</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Max records to return</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">?limit=100</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">offset</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">number</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Pagination offset</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">?offset=50</td></tr>
                    </tbody>
                </table>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
[
  {
    "id": "cc617a63-3876-4d38-a73c-5aa54be70df1",
    "row_id": 475,
    "business_name": "Example Business",
    "thank_you_url": "https://directory.com/business/example",
    "anchor_text": "Visit Website",
    "target_url": "https://www.example.com/",
    "target_url_found": "https://www.example.com/",
    "status": "active",
    "previous_status": "failed",
    "last_checked": "2025-01-12T04:08:41.793Z",
    "fulfilled_on": "2025-01-10T15:45:00Z",
    "response_time": 1250,
    "error_message": null,
    "http_status_code": 200,
    "detected_anchor_text": "Visit Website",
    "anchor_text_source": "csv",
    "notes": null,
    "created_at": "2025-01-01T12:00:00Z",
    "updated_at": "2025-01-12T04:08:41.793Z"
  }
]
                </div>
            </div>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/url-checks</span>
                </div>
                <p><strong>Purpose:</strong> Create new URL check records programmatically</p>
                
                <h4><i class="fas fa-code"></i> Request Body:</h4>
                <div class="code-block">
{
  "row_id": 475,
  "business_name": "Example Business",
  "thank_you_url": "https://directory.com/business/example-business",
  "anchor_text": "Visit Website",
  "target_url": "https://example.com"
}
                </div>

                <h4><i class="fas fa-exclamation-triangle"></i> Required Fields:</h4>
                <ul>
                    <li><strong>business_name:</strong> Name of the business (string)</li>
                    <li><strong>thank_you_url:</strong> URL where the business is listed (valid URL)</li>
                    <li><strong>target_url:</strong> Expected destination URL (valid URL)</li>
                </ul>

                <h4><i class="fas fa-info-circle"></i> Optional Fields:</h4>
                <ul>
                    <li><strong>row_id:</strong> Reference to CSV import row (number)</li>
                    <li><strong>anchor_text:</strong> Expected link text (defaults to "Website")</li>
                </ul>

                <h4><i class="fas fa-arrow-right"></i> Response (201 Created):</h4>
                <div class="code-block">
{
  "id": "new-uuid-generated",
  "row_id": 475,
  "business_name": "Example Business",
  "thank_you_url": "https://directory.com/business/example-business",
  "anchor_text": "Visit Website",
  "target_url": "https://example.com",
  "status": "pending",
  "created_at": "2025-01-12T10:30:00Z",
  "updated_at": "2025-01-12T10:30:00Z"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/url-checks/count</span>
                </div>
                <p><strong>Purpose:</strong> Get count of URL checks matching filters (same filters as /api/url-checks)</p>
                
                <h4><i class="fas fa-filter"></i> Query Parameters:</h4>
                <div class="code-block">
GET /api/url-checks/count?status=active&anchorTextType=csv
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "count": 1234
}
                </div>
            </div>

            <h3><i class="fas fa-chart-line"></i> Progress Tracking</h3>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/bulk-check/filtered/progress</span>
                </div>
                <p><strong>Purpose:</strong> Track progress of bulk operations in real-time</p>
                
                <h4><i class="fas fa-filter"></i> Query Parameters:</h4>
                <div class="code-block">
GET /api/bulk-check/filtered/progress?progress_id=bulk_1642095234567_abc123
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "progress_id": "bulk_1642095234567_abc123",
  "status": "running" | "completed" | "error" | "cancelled",
  "total": 150,
  "processed": 75,
  "percentage": 50,
  "start_time": "2025-01-12T10:00:00Z",
  "estimated_completion": "2025-01-12T10:15:00Z",
  "current_batch": 8,
  "total_batches": 15
}
                </div>
            </div>

            <h3><i class="fas fa-upload"></i> Data Management</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/import-csv</span>
                </div>
                <p><strong>Purpose:</strong> Import business data from CSV files with progress tracking</p>
                
                <h4><i class="fas fa-file"></i> Request (Multipart Form):</h4>
                <div class="code-block">
Content-Type: multipart/form-data

file: [CSV file]
                </div>

                <h4><i class="fas fa-table"></i> Required CSV Columns:</h4>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <thead>
                        <tr style="background: rgba(255,255,255,0.1);">
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid rgba(255,255,255,0.2);">Column Name</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid rgba(255,255,255,0.2);">Description</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid rgba(255,255,255,0.2);">Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Client</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Business name</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Example Business</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Thank You URL</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Business listing URL</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">https://directory.com/business/example</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Anchor Text</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Expected link text</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Visit Website</td></tr>
                        <tr><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Link Target</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">Expected destination URL</td><td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.1);">https://www.example.com</td></tr>
                    </tbody>
                </table>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Import started",
  "importId": "import_1642095234567_xyz789",
  "total": 0
}
                </div>

                <h4><i class="fas fa-chart-line"></i> Progress Tracking:</h4>
                <div class="code-block">
GET /api/import-csv/progress?importId=import_1642095234567_xyz789

Response:
{
  "total": 1000,
  "processed": 500,
  "status": "processing" | "completed" | "error" | "cancelled",
  "message": "Processing 500/1000 rows...",
  "log": "[10:30:15] Batch 5: 50/50 records imported"
}
                </div>
            </div>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/export-csv/all</span>
                </div>
                <p><strong>Purpose:</strong> Export all URL checks to CSV format with pagination support</p>
                
                <h4><i class="fas fa-download"></i> Response:</h4>
                <div class="code-block">
Content-Type: text/csv
Content-Disposition: attachment; filename="url-checks-all-2025-01-12.csv"

ID,Row ID,Business Name,Thank You URL,Anchor Text,...
uuid1,475,Example Business,https://directory.com/example,Visit Website,...
                </div>

                <h4><i class="fas fa-info-circle"></i> Features:</h4>
                <ul>
                    <li><strong>Pagination:</strong> Automatic handling of large datasets (>1000 records)</li>
                    <li><strong>Complete data:</strong> All fields including timestamps and metadata</li>
                    <li><strong>CSV format:</strong> Standard comma-separated with proper escaping</li>
                    <li><strong>Filename:</strong> Includes date for easy organization</li>
                </ul>
            </div>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/export-csv/filtered</span>
                </div>
                <p><strong>Purpose:</strong> Export filtered URL checks (same filters as /api/url-checks)</p>
                
                <h4><i class="fas fa-filter"></i> Query Parameters:</h4>
                <div class="code-block">
GET /api/export-csv/filtered?status=active&anchorTextType=csv
&fulfilledOnFrom=2025-01-01T00:00:00Z
                </div>

                <h4><i class="fas fa-download"></i> Response:</h4>
                <div class="code-block">
Content-Type: text/csv
Content-Disposition: attachment; filename="url-checks-filtered-2025-01-12.csv"
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/export-pdf</span>
                </div>
                <p><strong>Purpose:</strong> Generate PDF report with charts and summaries</p>
                
                <h4><i class="fas fa-download"></i> Response:</h4>
                <div class="code-block">
Content-Type: application/pdf
Content-Disposition: attachment; filename="link-checker-report-2025-01-12.pdf"
                </div>

                <h4><i class="fas fa-info-circle"></i> Features:</h4>
                <ul>
                    <li><strong>Charts:</strong> Visual statistics and progress charts</li>
                    <li><strong>Summary tables:</strong> Categorized URL status summaries</li>
                    <li><strong>Formatted layout:</strong> Professional PDF layout</li>
                    <li><strong>Timestamp:</strong> Report generation date and time</li>
                </ul>
            </div>
            
            <h3><i class="fas fa-chart-bar"></i> Analytics and Monitoring</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/stats</span>
                </div>
                <p><strong>Purpose:</strong> Retrieve overall system statistics</p>
                <div class="code-block">
{
  "total_urls": 5000,
  "active_links": 4200,
  "failed_links": 600,
  "target_url_wrong_links": 150,
  "anchor_text_wrong_links": 50,
  "processing_links": 0,
  "last_updated": "2025-01-12T10:30:00Z"
}
                </div>

                <h4><i class="fas fa-info-circle"></i> Statistics Breakdown:</h4>
                <ul>
                    <li><strong>total_urls:</strong> Total URL checks in system</li>
                    <li><strong>active_links:</strong> Links that are working correctly</li>
                    <li><strong>failed_links:</strong> Links that are completely broken</li>
                    <li><strong>target_url_wrong_links:</strong> Links found but pointing to wrong URL</li>
                    <li><strong>anchor_text_wrong_links:</strong> Links found but with wrong anchor text</li>
                    <li><strong>processing_links:</strong> Links currently being checked</li>
                </ul>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/stats/filtered</span>
                </div>
                <p><strong>Purpose:</strong> Get statistics for filtered dataset (same filters as /api/url-checks)</p>
                
                <h4><i class="fas fa-filter"></i> Query Parameters:</h4>
                <div class="code-block">
GET /api/stats/filtered?status=failed&anchorTextType=csv
&fulfilledOnFrom=2025-01-01T00:00:00Z
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "total_urls": 150,
  "active_links": 120,
  "failed_links": 20,
  "target_url_wrong_links": 8,
  "anchor_text_wrong_links": 2,
  "processing_links": 0,
  "filters_applied": {
    "status": "failed",
    "anchorTextType": "csv",
    "fulfilledOnFrom": "2025-01-01T00:00:00Z"
  },
  "last_updated": "2025-01-12T10:30:00Z"
}
                </div>
            </div>

            <h3><i class="fas fa-heart-rate"></i> Health & Monitoring</h3>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/test-env</span>
                </div>
                <p><strong>Purpose:</strong> Environment configuration validation and health check</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "status": "healthy",
  "database": "connected",
  "link_checker_version": "v4",
  "environment": "production",
  "timestamp": "2025-01-12T10:30:00Z",
  "config": {
    "max_concurrent_requests": 50,
    "request_timeout": 30000,
    "use_local_storage": false
  }
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/processing-status</span>
                </div>
                <p><strong>Purpose:</strong> Monitor active processing operations and system load</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "active_processes": 2,
  "active_workers": 7,
  "max_workers": 10,
  "queue_size": 15,
  "current_operations": [
    {
      "progress_id": "bulk_1642095234567_abc123",
      "type": "bulk_check",
      "status": "running",
      "started_at": "2025-01-12T10:25:00Z",
      "processed": 45,
      "total": 100
    }
  ],
  "system_load": {
    "cpu_usage": "45%",
    "memory_usage": "3.2GB/8GB",
    "active_browsers": 3
  }
}
                </div>
            </div>

            <h3><i class="fas fa-stop-circle"></i> Emergency Controls</h3>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/emergency-stop</span>
                </div>
                <p><strong>Purpose:</strong> Emergency stop all processing operations</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "success": true,
  "message": "Emergency stop initiated",
  "stopped_processes": 3,
  "stopped_workers": 7,
  "timestamp": "2025-01-12T10:30:00Z"
}
                </div>

                <div class="warning">
                    <i class="fas fa-exclamation-triangle"></i> <strong>Warning:</strong> This will immediately stop all active link checking operations. Use only in emergency situations.
                </div>
            </div>




            <h3><i class="fas fa-code"></i> Status Codes & Error Handling</h3>

            <h3><i class="fas fa-database"></i> Data Management & Backup</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/backup/create</span>
                </div>
                <p><strong>Purpose:</strong> Create a full backup of all system data</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "success": true,
  "message": "Full backup completed successfully",
  "backedUp": 1500,
  "timestamp": "2025-01-12T10:30:00Z"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/backup/create</span>
                </div>
                <p><strong>Purpose:</strong> Get backup statistics and table information</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "success": true,
  "stats": {
    "mainTable": 1500,
    "backupTable": 1500
  },
  "timestamp": "2025-01-12T10:30:00Z"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/backup/restore</span>
                </div>
                <p><strong>Purpose:</strong> Emergency restore from backup (preserves all data)</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Emergency restore completed",
  "restored": 1500,
  "integrity": {
    "isHealthy": true,
    "mainTableCount": 1500,
    "backupTableCount": 1500
  }
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/backup/verify</span>
                </div>
                <p><strong>Purpose:</strong> Verify backup integrity and health</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Backup integrity check completed",
  "integrity": {
    "isHealthy": true,
    "mainTableCount": 1500,
    "backupTableCount": 1500,
    "discrepancies": []
  },
  "status": "healthy"
}
                </div>
            </div>

            <h3><i class="fas fa-tools"></i> Testing & Development</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/test-link-check</span>
                </div>
                <p><strong>Purpose:</strong> Test link checking functionality with custom parameters</p>
                
                <h4><i class="fas fa-code"></i> Request Body:</h4>
                <div class="code-block">
{
  "thank_you_url": "https://example.com/thank-you",
  "anchor_text": "Visit Website",
  "target_url": "https://example.com"
}
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "success": true,
  "result": {
    "isActive": true,
    "statusCode": 200,
    "responseTime": 1250,
    "foundAnchorText": true,
    "foundTargetLink": true,
    "actualTargetUrl": "https://example.com/",
    "errorMessage": null
  },
  "testCase": {
    "thank_you_url": "https://example.com/thank-you",
    "anchor_text": "Visit Website",
    "target_url": "https://example.com",
    "expectedToFail": true
  }
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/initialize-sample-data</span>
                </div>
                <p><strong>Purpose:</strong> Initialize the system with sample data for testing</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Sample data initialized successfully",
  "count": 5,
  "checks": [
    {
      "id": "uuid-1",
      "business_name": "TechCorp Inc",
      "thank_you_url": "https://techcorp.com/thank-you",
      "anchor_text": "Visit our website",
      "target_url": "https://techcorp.com"
    }
  ]
}
                </div>
            </div>

            <h3><i class="fas fa-cog"></i> System Management</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method delete">DELETE</span>
                    <span class="endpoint-path">/api/clear-local-storage</span>
                </div>
                <p><strong>Purpose:</strong> Clear local storage files (logs and temporary data)</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Cleared 25 local storage files",
  "deletedFiles": 25
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/logs</span>
                </div>
                <p><strong>Purpose:</strong> Retrieve system processing logs</p>
                
                <h4><i class="fas fa-filter"></i> Query Parameters:</h4>
                <div class="code-block">
GET /api/logs?limit=100
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
[
  {
    "id": "log-uuid",
    "level": "info",
    "message": "Created new URL check for Example Business",
    "url_check_id": "url-uuid",
    "created_at": "2025-01-12T10:30:00Z"
  }
]
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method delete">DELETE</span>
                    <span class="endpoint-path">/api/logs</span>
                </div>
                <p><strong>Purpose:</strong> Clear all processing logs</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Logs cleared successfully"
}
                </div>
            </div>

            <h3><i class="fas fa-link"></i> Individual URL Management</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/url-checks/[id]</span>
                </div>
                <p><strong>Purpose:</strong> Get a specific URL check by ID</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "id": "uuid",
  "business_name": "Example Business",
  "thank_you_url": "https://directory.com/business/example",
  "anchor_text": "Visit Website",
  "target_url": "https://www.example.com/",
  "status": "active",
  "last_checked": "2025-01-12T04:08:41.793Z"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method put">PUT</span>
                    <span class="endpoint-path">/api/url-checks/[id]</span>
                </div>
                <p><strong>Purpose:</strong> Update a specific URL check</p>
                
                <h4><i class="fas fa-code"></i> Request Body:</h4>
                <div class="code-block">
{
  "status": "active",
  "notes": "Updated manually"
}
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "id": "uuid",
  "business_name": "Example Business",
  "status": "active",
  "notes": "Updated manually",
  "updated_at": "2025-01-12T10:30:00Z"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method delete">DELETE</span>
                    <span class="endpoint-path">/api/url-checks/[id]</span>
                </div>
                <p><strong>Purpose:</strong> Delete a specific URL check</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "URL check deleted successfully"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/url-checks/[id]/recheck-simple</span>
                </div>
                <p><strong>Purpose:</strong> Perform a simple recheck of a specific URL</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "success": true,
  "result": {
    "isActive": true,
    "statusCode": 200,
    "responseTime": 1250,
    "foundTargetLink": true,
    "errorMessage": null
  },
  "message": "Simple recheck completed successfully. Found: true"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/url-checks/[id]/recheck-beta</span>
                </div>
                <p><strong>Purpose:</strong> Perform a beta recheck using the beta_url_checks table</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "BETA Recheck completed",
  "result": {
    "isActive": true,
    "statusCode": 200,
    "responseTime": 1250
  }
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/url-checks/[id]/logs</span>
                </div>
                <p><strong>Purpose:</strong> Get logs for a specific URL check</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "url_check_id": "uuid",
  "logs": [
    {
      "level": "info",
      "message": "Starting link check",
      "timestamp": "2025-01-12T10:30:00Z"
    }
  ]
}
                </div>
            </div>

            <h3><i class="fas fa-chart-line"></i> Advanced Analytics</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/url-checks/status-changes</span>
                </div>
                <p><strong>Purpose:</strong> Get statistics about status changes and recovery rates</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "data": {
    "recovered": 45,
    "stillFailed": 12,
    "totalFailedRechecks": 57,
    "recoveryRate": "78.9"
  },
  "timestamp": "2025-01-12T10:30:00Z"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/url-checks/recovered</span>
                </div>
                <p><strong>Purpose:</strong> Get URLs that recovered from failed to active status</p>
                
                <h4><i class="fas fa-filter"></i> Query Parameters:</h4>
                <div class="code-block">
GET /api/url-checks/recovered?limit=50&offset=0
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "data": [
    {
      "id": "uuid",
      "business_name": "Recovered Business",
      "status": "active",
      "previous_status": "failed"
    }
  ],
  "pagination": {
    "total": 45,
    "limit": 50,
    "offset": 0,
    "hasMore": false
  }
}
                </div>
            </div>

            <h3><i class="fas fa-upload"></i> Advanced Import Management</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/import-csv/cancel</span>
                </div>
                <p><strong>Purpose:</strong> Cancel an ongoing CSV import operation</p>
                
                <h4><i class="fas fa-code"></i> Request Body:</h4>
                <div class="code-block">
{
  "importId": "import_1642095234567_xyz789"
}
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Import cancelled successfully",
  "cancelled": true,
  "importId": "import_1642095234567_xyz789"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/import-csv/progress/clear</span>
                </div>
                <p><strong>Purpose:</strong> Clear progress tracking for a specific import</p>
                
                <h4><i class="fas fa-code"></i> Request Body:</h4>
                <div class="code-block">
{
  "importId": "import_1642095234567_xyz789"
}
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Progress cleared successfully"
}
                </div>
            </div>

            <h3><i class="fas fa-cogs"></i> Bulk Operations Control</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/bulk-check/filtered/status</span>
                </div>
                <p><strong>Purpose:</strong> Get status of all filtered bulk operations</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "total_processes": 5,
  "running_processes": 2,
  "paused_processes": 1,
  "stopped_processes": 1,
  "completed_processes": 1,
  "processes": [
    {
      "progress_id": "bulk_123",
      "total": 100,
      "processed": 45,
      "status": "running",
      "progress_percentage": 45
    }
  ]
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/bulk-check/filtered/control</span>
                </div>
                <p><strong>Purpose:</strong> Control filtered bulk operations (pause, resume, stop)</p>
                
                <h4><i class="fas fa-filter"></i> Query Parameters:</h4>
                <div class="code-block">
POST /api/bulk-check/filtered/control?progress_id=bulk_123&action=pause
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Filtered bulk check paused successfully",
  "progress_id": "bulk_123",
  "status": "paused"
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/bulk-check/filtered/cleanup</span>
                </div>
                <p><strong>Purpose:</strong> Clean up hanging and old bulk processes</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "message": "Cleaned up 3 hanging processes",
  "stopped_count": 3,
  "remaining_processes": 2
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/bulk-check/filtered/urls</span>
                </div>
                <p><strong>Purpose:</strong> Get URLs with specific status from a bulk process</p>
                
                <h4><i class="fas fa-filter"></i> Query Parameters:</h4>
                <div class="code-block">
GET /api/bulk-check/filtered/urls?progress_id=bulk_123&status=failed
                </div>

                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
[
  {
    "id": "uuid",
    "business_name": "Failed Business",
    "status": "failed",
    "error_message": "Link not found"
  }
]
                </div>
            </div>

            <h3><i class="fas fa-shield-alt"></i> Emergency & Maintenance</h3>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/emergency/cleanup</span>
                </div>
                <p><strong>Purpose:</strong> Emergency cleanup of all processes and stuck URLs</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "success": true,
  "message": "Emergency cleanup completed",
  "stoppedProcesses": 5
}
                </div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/emergency/cleanup</span>
                </div>
                <p><strong>Purpose:</strong> Get status of active processes</p>
                
                <h4><i class="fas fa-arrow-right"></i> Response:</h4>
                <div class="code-block">
{
  "activeProcesses": [
    {
      "progress_id": "bulk_123",
      "status": "running",
      "started_at": "2025-01-12T10:00:00Z"
    }
  ],
  "count": 1
}
                </div>
            </div>

            <div class="info">
                <h4><i class="fas fa-check-circle"></i> Success Codes:</h4>
                <ul>
                    <li><strong>200 OK:</strong> Request successful</li>
                    <li><strong>201 Created:</strong> Resource created successfully</li>
                    <li><strong>202 Accepted:</strong> Request accepted for processing</li>
                </ul>

                <h4><i class="fas fa-exclamation-triangle"></i> Error Codes:</h4>
                <ul>
                    <li><strong>400 Bad Request:</strong> Invalid request parameters</li>
                    <li><strong>404 Not Found:</strong> Resource not found</li>
                    <li><strong>429 Too Many Requests:</strong> Rate limit exceeded</li>
                    <li><strong>500 Internal Server Error:</strong> Server error</li>
                    <li><strong>503 Service Unavailable:</strong> System overloaded</li>
                </ul>

                <h4><i class="fas fa-format-list-bulleted"></i> Error Response Format:</h4>
                <div class="code-block">
{
  "error": "Descriptive error message",
  "details": "Additional error details if available",
  "timestamp": "2025-01-12T10:30:00Z",
  "request_id": "req_1642095234567"
}
                </div>
            </div>
        </div>

        <div id="engine" class="section engine">
            <h2><i class="fas fa-cog icon"></i> Link Checking Engine</h2>
            
            <h3><i class="fas fa-rocket"></i> LinkChecker V4 - Sistema de Detección Inteligente</h3>
            
            <div class="info">
                <i class="fas fa-info-circle"></i> <strong>Versión Actual:</strong> V4 con sistema de puntuación inteligente y detección automática de directorios
            </div>
            
            <h4><i class="fas fa-route"></i> Arquitectura Multi-Estratégica</h4>
            <div class="tech-grid">
                <div class="tech-card">
                    <h5><i class="fas fa-bolt"></i> Fast HTTP Check</h5>
                    <p>Análisis HTML inicial sin automatización de navegador para máxima velocidad. Procesa hasta 51462 caracteres por página.</p>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-search"></i> Fast Path A</h5>
                    <p>Búsqueda directa en DOM para enlaces de negocios objetivo con validación de URL. Detección específica de ZenBusiness y patrones similares.</p>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-code"></i> Fast Path B</h5>
                    <p>Detección basada en selectores CSS para patrones comunes de directorios de negocios.</p>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-text-height"></i> Fast Path C</h5>
                    <p>Coincidencia de patrones de texto para extracción de anchor text y URLs.</p>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-mouse-pointer"></i> Fast Path D</h5>
                    <p>Interacción compleja de página con Playwright para contenido dinámico.</p>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-keyboard"></i> Search Strategy</h5>
                    <p>Detección dinámica de campos de búsqueda y ejecución para contenido oculto.</p>
                </div>
            </div>
            
            <h4><i class="fas fa-brain"></i> Sistema de Puntuación Inteligente</h4>
            <p>El LinkCheckerV4 implementa un sistema de puntuación sofisticado que evalúa automáticamente la relevancia de cada enlace encontrado:</p>
            
            <div class="tech-grid">
                <div class="tech-card">
                    <h5><i class="fas fa-trophy"></i> Priority 1: Coincidencia Exacta</h5>
                    <p><strong>Score: +100</strong> - Texto exacto del enlace = nombre del negocio</p>
                    <div class="code-block">Ejemplo: "ZenBusiness" = "ZenBusiness" → Score: 100</div>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-star"></i> Priority 1.5: Caso Especial ZenBusiness</h5>
                    <p><strong>Score: Variable</strong> - Solo si contiene "zen" Y es una página de negocio</p>
                    <div class="code-block">Requisitos: texto/URL contiene "zen" + URL contiene /member/, /business/, o /company/</div>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-search"></i> Priority 2: Contiene Nombre del Negocio</h5>
                    <p><strong>Score: +50</strong> - Texto del enlace contiene el nombre del negocio</p>
                    <div class="code-block">Ejemplo: "ZenBusiness Solutions" contiene "ZenBusiness" → Score: 50</div>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-link"></i> Priority 3: URL Contiene Nombre del Negocio</h5>
                    <p><strong>Score: +30</strong> - URL contiene el nombre del negocio + debe ser página de negocio</p>
                    <div class="code-block">Ejemplo: https://.../member/adidas-sports para "Adidas" → Score: 30</div>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-building"></i> Priority 4: Enlaces de Páginas de Negocios</h5>
                    <p><strong>Score base: +20</strong> por /member/, +15 por /business/, +15 por /company/</p>
                    <div class="code-block">Bonificaciones: +100 por coincidencia exacta, +50 por contiene, +30 por URL</div>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-life-ring"></i> Priority 5: Fallback Inteligente</h5>
                    <p><strong>Score base: +10</strong> por ser enlace de negocio + bonificaciones por texto largo</p>
                    <div class="code-block">Penalizaciones: -40 por términos genéricos, -30 por navegación</div>
                </div>
            </div>
            
            <h4><i class="fas fa-sitemap"></i> Detección Automática de Directorios</h4>
            <p>El sistema detecta automáticamente cuando una URL es un directorio que necesita seguimiento de enlaces:</p>
            
            <div class="tech-grid">
                <div class="tech-card">
                    <h5><i class="fas fa-list"></i> Patrones de Directorio Detectados</h5>
                    <ul>
                        <li><code>/list/</code> - Listados de negocios</li>
                        <li><code>/searchalpha/</code> - Filtros alfabéticos</li>
                        <li><code>/directory/</code> - Directorios generales</li>
                        <li><code>/members/</code> - Páginas de miembros</li>
                        <li><code>/business/</code> - Páginas de negocios</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-mouse-pointer"></i> Seguimiento Automático de Enlaces</h5>
                    <ul>
                        <li><strong>Detección inteligente</strong> de enlaces del mismo dominio</li>
                        <li><strong>Filtrado automático</strong> de enlaces de navegación</li>
                        <li><strong>Seguimiento seguro</strong> solo a páginas de negocios</li>
                        <li><strong>Validación en página destino</strong> del target URL</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-shield-alt"></i> Seguridad y Validación</h5>
                    <ul>
                        <li><strong>Solo enlaces del mismo dominio</strong> (evita redirecciones maliciosas)</li>
                        <li><strong>Timeout de 30 segundos</strong> para navegación a páginas de negocios</li>
                        <li><strong>Manejo de errores robusto</strong> con logging detallado</li>
                        <li><strong>Validación de patrones de URL</strong> antes de seguir enlaces</li>
                    </ul>
                </div>
            </div>
            
            <h4><i class="fas fa-bug"></i> Casos Especiales y Mejoras</h4>
            <div class="tech-grid">
                <div class="tech-card">
                    <h5><i class="fas fa-zen"></i> Caso Especial: ZenBusiness</h5>
                    <p>Detección específica para patrones comunes de ZenBusiness con validación de páginas de negocio.</p>
                    <div class="code-block">Ejemplo: /list/searchalpha/z → /list/member/zenbusiness-1074</div>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-exclamation-triangle"></i> Detección de URLs Mal Formadas</h5>
                    <p>Identificación automática de URLs con protocolos duplicados o formato incorrecto.</p>
                    <div class="code-block">Ejemplo: "http://https//www.zenbusiness.com/" → Wrong Target URL</div>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-chart-line"></i> Sistema de Fallback Inteligente</h5>
                    <p>Múltiples estrategias de respaldo con puntuación automática para casos complejos.</p>
                    <div class="code-block">Score mínimo: 0, Score recomendado: >25</div>
                </div>
            </div>
            
            <h4><i class="fas fa-tools"></i> Logging y Debugging Avanzado</h4>
            <p>El sistema proporciona logging detallado para debugging y monitoreo:</p>
            
            <div class="tech-grid">
                <div class="tech-card">
                    <h5><i class="fas fa-list-ul"></i> Logs de Enlaces Encontrados</h5>
                    <p>Registro completo de todos los enlaces en la página con información detallada (texto, href, clase, ID).</p>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-calculator"></i> Puntuaciones en Tiempo Real</h5>
                    <p>Visualización de puntuaciones de cada enlace candidato para debugging y optimización.</p>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-route"></i> Seguimiento de Estrategias</h5>
                    <p>Logs detallados de cada estrategia utilizada y resultados obtenidos.</p>
                </div>
            </div>
            
            <h4><i class="fas fa-cogs"></i> Configuración y Rendimiento</h4>
            <div class="tech-grid">
                <div class="tech-card">
                    <h5><i class="fas fa-clock"></i> Timeouts y Límites</h5>
                    <ul>
                        <li><strong>Timeout global:</strong> 120 segundos por verificación</li>
                        <li><strong>Timeout de navegación:</strong> 30 segundos para páginas de negocios</li>
                        <li><strong>Timeout de iframe:</strong> 5 segundos para contenido de iframe</li>
                        <li><strong>Límite de profundidad:</strong> Máximo 3 niveles para iframes</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h5><i class="fas fa-users"></i> Concurrencia y Escalabilidad</h5>
                    <ul>
                        <li><strong>Modo HEADED:</strong> 4 solicitudes concurrentes (optimizado para navegadores visuales)</li>
                        <li><strong>Modo HEADLESS:</strong> 10 solicitudes concurrentes</li>
                        <li><strong>Browserless:</strong> 10 solicitudes concurrentes (límite de tasa seguro)</li>
                        <li><strong>Semáforo dinámico:</strong> Control automático de concurrencia</li>
                    </ul>
                </div>
            </div>
            
            <h4><i class="fas fa-chart-bar"></i> Métricas de Rendimiento</h4>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">120s</span>
                    <div class="stat-label">Timeout Global</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">30s</span>
                    <div class="stat-label">Timeout Navegación</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">10</span>
                    <div class="stat-label">Concurrente Max</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">3</span>
                    <div class="stat-label">Niveles Iframe</div>
                </div>
            </div>
        </div>

        <div id="deployment" class="section deployment">
            <h2><i class="fas fa-cloud icon"></i> Deployment Architecture</h2>
            
            <h3><i class="fab fa-digital-ocean"></i> DigitalOcean Droplet Setup</h3>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">4</span>
                    <div class="stat-label">vCPU Cores</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">8GB</span>
                    <div class="stat-label">RAM Memory</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">100GB</span>
                    <div class="stat-label">SSD Storage</div>
                </div>
            </div>
            
            <h4><i class="fab fa-docker"></i> Docker Configuration</h4>
            <div class="code-block">
FROM node:18-alpine

# Install Playwright dependencies
RUN apk add --no-cache chromium nss freetype

# Set Playwright to use installed Chromium
ENV PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1
ENV PLAYWRIGHT_CHROMIUM_EXECUTABLE_PATH=/usr/bin/chromium-browser

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
EXPOSE 3000
CMD ["npm", "start"]
            </div>
            
            <h4><i class="fas fa-network-wired"></i> Nginx Configuration</h4>
            <div class="info">
                <i class="fas fa-info-circle"></i> Configured as reverse proxy with SSL termination and load balancing capabilities.
            </div>
        </div>

        <div id="performance" class="section performance">
            <h2><i class="fas fa-tachometer-alt icon"></i> Performance Metrics</h2>
            
            <h3><i class="fas fa-chart-line"></i> Current Benchmarks vs Production Targets</h3>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Development</th>
                            <th>Production Target</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Concurrency</td>
                            <td>10 URLs</td>
                            <td>50-100 URLs</td>
                            <td><span class="badge warning">Scaling</span></td>
                        </tr>
                        <tr>
                            <td>Throughput</td>
                            <td>~100 URLs/hour</td>
                            <td>500-1000 URLs/hour</td>
                            <td><span class="badge info">Target</span></td>
                        </tr>
                        <tr>
                            <td>Memory Usage</td>
                            <td>~2GB RAM</td>
                            <td>4-8GB RAM</td>
                            <td><span class="badge success">Optimal</span></td>
                        </tr>
                        <tr>
                            <td>Response Time</td>
                            <td>3-5 seconds</td>
                            <td>2-4 seconds</td>
                            <td><span class="badge success">Good</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h3><i class="fas fa-rocket"></i> Optimization Features</h3>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4><i class="fas fa-brain"></i> Intelligent Polling</h4>
                    <p>Reduces unnecessary API calls with smart refresh strategies.</p>
                </div>
                <div class="tech-card">
                    <h4><i class="fas fa-memory"></i> Resource Management</h4>
                    <p>Automatic cleanup of Playwright browser instances.</p>
                </div>
                <div class="tech-card">
                    <h4><i class="fas fa-layer-group"></i> Batch Processing</h4>
                    <p>Efficient handling of bulk operations with progress tracking.</p>
                </div>
                <div class="tech-card">
                    <h4><i class="fas fa-save"></i> Strategic Caching</h4>
                    <p>Intelligent caching of repeated checks and static content.</p>
                </div>
            </div>
        </div>

        <div id="monitoring" class="section monitoring">
            <h2><i class="fas fa-chart-pie icon"></i> Monitoring & Maintenance</h2>
            
            <h3><i class="fas fa-heartbeat"></i> Health Check Endpoints</h3>
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/test-env</span>
                </div>
                <p>Environment configuration validation</p>
            </div>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/processing-status</span>
                </div>
                <p>Active operations monitoring</p>
            </div>
            
            <h3><i class="fas fa-file-alt"></i> Logging System</h3>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4><i class="fab fa-docker"></i> Application Logs</h4>
                    <p>Docker container logs via <code>docker-compose logs</code></p>
                </div>
                <div class="tech-card">
                    <h4><i class="fas fa-link"></i> URL Check Logs</h4>
                    <p>Individual log files per URL check in <code>/local-storage/logs/</code></p>
                </div>
                <div class="tech-card">
                    <h4><i class="fas fa-database"></i> System Logs</h4>
                    <p>Processing logs stored in database with categorization</p>
                </div>
                <div class="tech-card">
                    <h4><i class="fas fa-exclamation-triangle"></i> Error Tracking</h4>
                    <p>Comprehensive error categorization and reporting</p>
                </div>
            </div>
            
            <h3><i class="fas fa-shield-alt"></i> Backup Strategy</h3>
            <div class="success">
                <i class="fas fa-check-circle"></i> <strong>Automatic Backups:</strong> Incremental backups after each successful check
            </div>
            <div class="info">
                <i class="fas fa-info-circle"></i> <strong>Manual Backups:</strong> Full system backup via API endpoint
            </div>
            <div class="highlight">
                <i class="fas fa-lightbulb"></i> <strong>Verification:</strong> Integrity checks and restore testing
            </div>
        </div>

        <div id="integration" class="section integration">
            <h2><i class="fas fa-puzzle-piece icon"></i> Integration Guidelines</h2>
            
            <h3><i class="fas fa-key"></i> API Integration Best Practices</h3>
            <ol class="deployment-steps">
                <div class="deployment-step">
                    <h5>Authentication</h5>
                    <p>Use service role key for backend integrations with proper environment variable management.</p>
                </div>
                <div class="deployment-step">
                    <h5>Rate Limiting</h5>
                    <p>Implement client-side rate limiting for bulk operations to prevent system overload.</p>
                </div>
                <div class="deployment-step">
                    <h5>Error Handling</h5>
                    <p>Handle HTTP status codes and error responses appropriately with retry logic.</p>
                </div>
                <div class="deployment-step">
                    <h5>Data Validation</h5>
                    <p>Validate input data before API calls using provided schemas and types.</p>
                </div>
            </ol>
            
            <h3><i class="fas fa-file-csv"></i> Data Formats</h3>
            <div class="warning">
                <i class="fas fa-exclamation-triangle"></i> <strong>CSV Import:</strong> Follow exact column naming convention: Client, Thank You URL, Anchor Text, Link Target
            </div>
            <div class="info">
                <i class="fas fa-info-circle"></i> <strong>JSON Responses:</strong> All timestamps in ISO 8601 format with standardized status enum values
            </div>
        </div>

        <div id="security" class="section security">
            <h2><i class="fas fa-lock icon"></i> Security Considerations</h2>
            
            <div class="tech-grid">
                <div class="tech-card">
                    <h4><i class="fas fa-database"></i> Data Protection</h4>
                    <ul class="tech-list">
                        <li>Secure environment variable storage</li>
                        <li>Parameterized queries via Supabase</li>
                        <li>Input validation with Zod schemas</li>
                        <li>SQL injection prevention</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4><i class="fas fa-network-wired"></i> Network Security</h4>
                    <ul class="tech-list">
                        <li>HTTPS/TLS encryption</li>
                        <li>UFW firewall configuration</li>
                        <li>Nginx security headers</li>
                        <li>Rate limiting and DDoS protection</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4><i class="fas fa-user-shield"></i> Operational Security</h4>
                    <ul class="tech-list">
                        <li>Non-root user execution</li>
                        <li>Alpine-based minimal containers</li>
                        <li>Regular security updates</li>
                        <li>Access control and monitoring</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4><i class="fas fa-code"></i> Application Security</h4>
                    <ul class="tech-list">
                        <li>TypeScript type safety</li>
                        <li>CORS configuration</li>
                        <li>Environment-based configurations</li>
                        <li>Secure session handling</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="troubleshooting" class="section troubleshooting">
            <h2><i class="fas fa-tools icon"></i> Troubleshooting Guide</h2>
            
            <h3><i class="fas fa-bug"></i> Common Issues & Solutions</h3>
            
            <div class="tech-grid">
                <div class="tech-card">
                    <h4><i class="fas fa-memory"></i> Memory Leaks</h4>
                    <div class="warning">
                        <strong>Issue:</strong> High memory usage from stuck Playwright processes
                    </div>
                    <div class="success">
                        <strong>Solution:</strong> Monitor process count and restart application container
                    </div>
                </div>
                
                <div class="tech-card">
                    <h4><i class="fas fa-database"></i> Database Issues</h4>
                    <div class="warning">
                        <strong>Issue:</strong> Connection timeouts or credential problems
                    </div>
                    <div class="success">
                        <strong>Solution:</strong> Check Supabase credentials and network connectivity
                    </div>
                </div>
                
                <div class="tech-card">
                    <h4><i class="fas fa-clock"></i> Timeout Errors</h4>
                    <div class="warning">
                        <strong>Issue:</strong> Link checks timing out after 90 seconds
                    </div>
                    <div class="success">
                        <strong>Solution:</strong> Adjust timeout values for specific page types
                    </div>
                </div>
                
                <div class="tech-card">
                    <h4><i class="fas fa-tachometer-alt"></i> High CPU Usage</h4>
                    <div class="warning">
                        <strong>Issue:</strong> System overload during peak operations
                    </div>
                    <div class="success">
                        <strong>Solution:</strong> Scale down concurrent operations and optimize batch sizes
                    </div>
                </div>
            </div>
            
            <h3><i class="fas fa-terminal"></i> Diagnostic Commands</h3>
            <div class="code-block">
# Check application status
docker-compose ps

# Monitor resource usage  
docker stats

# View application logs
docker-compose logs -f linkchecker

# Check browser processes
ps aux | grep headless_shell | wc -l

# Test database connection
curl -X GET http://localhost:3000/api/test-env
            </div>
            
            <h3><i class="fas fa-life-ring"></i> Recovery Procedures</h3>
            <div class="highlight">
                <i class="fas fa-lightbulb"></i> <strong>Emergency Stop:</strong> Use <code>/api/emergency-stop</code> to halt all operations immediately
            </div>
            <div class="info">
                <i class="fas fa-info-circle"></i> <strong>Data Recovery:</strong> Restore from backup using <code>/api/backup/restore</code> endpoint
            </div>
            <div class="success">
                <i class="fas fa-check-circle"></i> <strong>Process Cleanup:</strong> Reset stuck processing URLs via database maintenance scripts
            </div>
        </div>

        <div class="footer">
            <h3><i class="fas fa-graduation-cap"></i> Documentation Information</h3>
            <p><strong>Document Version:</strong> 1.0 | <strong>Last Updated:</strong> August 12, 2025</p>
            <p><strong>LinkChecker Version:</strong> V4 | <strong>Compatibility:</strong> Next.js 15.4.4, Node.js 18+</p>
        </div>
    </div>

    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Add scroll-to-top functionality
        window.addEventListener('scroll', function() {
            if (window.scrollY > 300) {
                if (!document.querySelector('.scroll-top')) {
                    const scrollTop = document.createElement('div');
                    scrollTop.className = 'scroll-top';
                    scrollTop.innerHTML = '<i class="fas fa-arrow-up"></i>';
                    scrollTop.style.cssText = `
                        position: fixed;
                        bottom: 30px;
                        right: 30px;
                        width: 50px;
                        height: 50px;
                        background: linear-gradient(135deg, #4facfe, #00f2fe);
                        color: white;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        cursor: pointer;
                        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                        transition: all 0.3s ease;
                        z-index: 1000;
                    `;
                    scrollTop.addEventListener('click', () => {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                    scrollTop.addEventListener('mouseover', () => {
                        scrollTop.style.transform = 'scale(1.1)';
                    });
                    scrollTop.addEventListener('mouseout', () => {
                        scrollTop.style.transform = 'scale(1)';
                    });
                    document.body.appendChild(scrollTop);
                }
            } else {
                const scrollTop = document.querySelector('.scroll-top');
                if (scrollTop) {
                    scrollTop.remove();
                }
            }
        });
    </script>
</body>
</html>


